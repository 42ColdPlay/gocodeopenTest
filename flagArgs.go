package main

import (
	"flag"
	"fmt"
	"strings"
)

type sliceValue []string //数组，string

//开辟数组进行转换
func newSliceValue(vals []string, p *[]string) *sliceValue {
	*p = vals
	return (*sliceValue)(p)
}
func (s *sliceValue) String() string {
	*s = sliceValue(strings.Split("default is me",","))
	return "It's none of my business"
}
//赋值数组
func (s *sliceValue) Set(val string) error {
	*s = sliceValue(strings.Split(val,","))
	return nil
}
func main()  {
	var languages []string
	flag.Var(newSliceValue([]string{},&languages),"slice","I like go language")
	flag.Parse()
	fmt.Println(languages)
}
